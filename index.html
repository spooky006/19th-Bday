<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy 19th Birthday To My One & Only Princess â€” A Small Gift For My Gurl</title>
  <meta name="color-scheme" content="dark">
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#1b2ad4;
      --muted:#9ca3af;
      --glass:rgba(255,255,255,0.04);
      --heart:#ff5ea8;
      --neon:#ff4fa6;
      --text:#ffe6f3;
    }
    /* base */
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#240717 0%,#35081d 60%);color:var(--text);overflow-x:hidden;-webkit-font-smoothing:antialiased}
    .container{max-width:980px;margin:32px auto;padding:24px}
    header{display:flex;gap:16px;align-items:center}
    .logo{width:72px;height:72px;border-radius:14px;background:linear-gradient(135deg,var(--accent),#05dd6d);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:22px;box-shadow:0 8px 30px rgba(2,6,23,.6)}
    h1{margin:0;font-size:26px;color:#06f1aa}
    p.lead{color:var(--muted);margin-top:6px}
    .card{background:var(--card);padding:18px;border-radius:14px;box-shadow:0 6px 24px rgba(2,6,23,.6);margin-top:20px}

    /* neon */
    h1,strong{ text-shadow:0 0 8px var(--neon), 0 0 12px var(--neon) }
    .btn{ box-shadow:0 0 12px #ff2f9d; transition:transform .2s,box-shadow .2s }
    .btn:hover{ transform:scale(1.03); box-shadow:0 0 18px #ff2f9d }

    /* typing */
    .typewriter{font-size:18px;line-height:1.5;min-height:110px;white-space:pre-wrap}
    .cursor{display:inline-block;width:8px;background:var(--accent);margin-left:6px;animation:blink 1s steps(2) infinite}
    @keyframes blink{50%{opacity:0}}

    /* gallery */
    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-top:12px}
    .thumb{background:var(--glass);border-radius:10px;padding:6px;display:flex;align-items:center;justify-content:center;height:110px;overflow:hidden;animation:slideIn 1s ease forwards;opacity:0;border:1px solid rgba(255,255,255,0.06);box-shadow:0 0 8px #ff309c55}
    @keyframes slideIn{from{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}
    .thumb:nth-child(1){animation-delay:.08s}
    .thumb:nth-child(2){animation-delay:.16s}
    .thumb:nth-child(3){animation-delay:.24s}
    .thumb:nth-child(4){animation-delay:.32s}
    .thumb img{width:100%;height:100%;object-fit:cover;border-radius:8px;cursor:pointer;display:block;touch-action:manipulation}
    /* make images square on larger screens while keeping responsive */
    @media(min-width:720px){ .thumb{height:160px} }

    /* timeline */
    .timeline{margin-top:18px}
    .event{display:flex;gap:12px;align-items:flex-start;padding:10px 0;border-bottom:1px dashed rgba(255,255,255,0.03)}
    .dot{width:12px;height:12px;border-radius:50%;background:var(--accent);margin-top:6px}
    .evtime{color:var(--muted);font-size:13px}

    /* row and buttons */
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .btn{background:linear-gradient(90deg,var(--accent),#ec4899);border:none;padding:10px 14px;border-radius:10px;color:#051020;font-weight:700;cursor:pointer}
    .btn--ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--accent)}

    footer{margin-top:22px;color:var(--muted);font-size:13px}

    /* confetti canvas */
    canvas#confetti{position:fixed;left:0;top:0;pointer-events:none;z-index:999}

    /* floating background hearts */
    .bg-heart{position:fixed;bottom:-20px;font-size:22px;color:var(--heart);animation:floatUp 6s linear infinite;opacity:.8;pointer-events:none;filter:drop-shadow(0 0 6px #ff1f7f);z-index:0}
    @keyframes floatUp{0%{transform:translateY(0) scale(1);opacity:.9}50%{opacity:1}100%{transform:translateY(-120vh) scale(1.6);opacity:0}}

    /* modal/lightbox */
    .lightbox{position:fixed;inset:0;background:rgba(3,6,12,.85);display:flex;align-items:center;justify-content:center;padding:20px;z-index:2000;opacity:0;pointer-events:none;transition:opacity .25s}
    .lightbox.show{opacity:1;pointer-events:all}
    .lightbox img{max-width:96vw;max-height:86vh;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,.7)}

    /* heart particles */
    .particle{position:fixed;font-size:18px;pointer-events:none;display:inline-block;transform-origin:center;filter:drop-shadow(0 0 6px #ff4fa6);will-change:transform,opacity}

    /* opening-screen full */
    #opening-screen{position:fixed;inset:0;background:linear-gradient(180deg,#0b0620 0%, #190621 60%);display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:5000}
    /* teddy SVG container */
    .teddy-wrap{display:flex;flex-direction:column;align-items:center;gap:14px}
    #heart-book{width:220px;height:200px;position:relative;cursor:pointer;transition:transform .6s ease}
    /* heart-book halves */
    .book-left,.book-right{position:absolute;top:10px;width:110px;height:180px;border-radius:110px 110px 12px 12px;background:#ff3b8d;box-shadow:0 6px 24px #ff3b8d66;transform-origin:bottom center;transition:transform .9s cubic-bezier(.2,.9,.2,1)}
    .book-left{left:0}
    .book-right{right:0}
    .book-center{position:absolute;left:50%;top:18px;transform:translateX(-50%);width:120px;height:164px;background:linear-gradient(180deg,#fff 0%,#ffe9f6 100%);border-radius:8px;box-shadow:inset 0 2px 6px rgba(0,0,0,.06);display:flex;align-items:center;justify-content:center;opacity:0;transform-origin:center;transition:opacity .8s .4s, transform .8s .4s}
    /* opened state */
    .opening-open .book-left{transform:rotate(-130deg) translateX(-10px)}
    .opening-open .book-right{transform:rotate(130deg) translateX(10px)}
    .opening-open .book-center{opacity:1;transform:translateX(-50%) scale(1)}
    /* press hint */
    .tap-hint{color:rgba(255,255,255,.8);font-size:14px;opacity:.9}

    /* responsive tweaks */
    @media(max-width:600px){
      .container{padding:12px}
      .logo{width:56px;height:56px}
      h1{font-size:20px}
      .thumb{height:140px}
      .gallery{grid-template-columns:repeat(2,1fr)}
      .btn{width:100%;text-align:center}
      #heart-book{width:160px;height:140px}
      .book-left,.book-right{width:80px;height:120px}
      .book-center{width:90px;height:100px;top:14px}
    }
  </style>
</head>
<body>
  <!-- confetti canvas -->
  <canvas id="confetti"></canvas>

  <!-- Opening full-screen: Teddy holding heart & heart-book -->
  <div id="opening-screen" aria-hidden="false">
    <div class="teddy-wrap" role="button" aria-label="Open the love book" tabindex="0">
      <!-- Inline blue baby teddy SVG (style 4: baby teddy holding heart) -->
      <svg id="teddy-svg" width="260" height="260" viewBox="0 0 260 260" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="blue teddy holding heart">
        <!-- simple cute blue teddy SVG illustration -->
        <defs>
          <linearGradient id="furs" x1="0" x2="1"><stop offset="0" stop-color="#8fbef8"/><stop offset="1" stop-color="#5ea0ff"/></linearGradient>
        </defs>
        <g transform="translate(10,6)">
          <!-- ears -->
          <ellipse cx="52" cy="46" rx="30" ry="30" fill="url(#furs)"></ellipse>
          <ellipse cx="168" cy="46" rx="30" ry="30" fill="url(#furs)"></ellipse>
          <!-- head -->
          <ellipse cx="110" cy="82" rx="64" ry="64" fill="url(#furs)"></ellipse>
          <!-- eyes -->
          <ellipse cx="88" cy="80" rx="9" ry="12" fill="#0b1220"></ellipse>
          <ellipse cx="132" cy="80" rx="9" ry="12" fill="#0b1220"></ellipse>
          <!-- blush -->
          <ellipse cx="76" cy="98" rx="14" ry="8" fill="#ffd5e8" opacity="0.7"></ellipse>
          <ellipse cx="144" cy="98" rx="14" ry="8" fill="#ffd5e8" opacity="0.7"></ellipse>
          <!-- nose & mouth -->
          <ellipse cx="110" cy="96" rx="8" ry="6" fill="#451f3a"></ellipse>
          <path d="M100 106 q10 12 20 0" stroke="#451f3a" stroke-width="3" fill="none" stroke-linecap="round"></path>
          <!-- body -->
          <ellipse cx="110" cy="160" rx="78" ry="66" fill="url(#furs)"></ellipse>
          <!-- arms holding heart -->
          <path d="M58 150 q20 30 52 22" fill="none" stroke="url(#furs)" stroke-width="18" stroke-linecap="round" stroke-linejoin="round"></path>
          <path d="M162 150 q-20 30 -52 22" fill="none" stroke="url(#furs)" stroke-width="18" stroke-linecap="round" stroke-linejoin="round"></path>
          <!-- heart in hands -->
          <g transform="translate(80,120)">
            <path d="M30 8 C30 -6 54 -6 54 8 C54 18 30 30 30 44 C30 30 6 18 6 8 C6 -6 30 -6 30 8 Z" fill="#ff6aa1" stroke="#ff4f8f" stroke-width="2"></path>
          </g>
          <!-- little bow -->
          <rect x="90" y="162" width="40" height="10" rx="4" fill="#ff7eb0" />
          <!-- tiny sparkle -->
          <path d="M30 30 l6 3 l-6 3 l-3 6 l-3-6 l-6-3 l6-3 l3-6 z" fill="#fff8" opacity=".6"/>
        </g>
      </svg>

      <!-- heart-book element (click this to open) -->
      <div id="heart-book" title="Open the love-book" aria-hidden="false">
        <div class="book-left"></div>
        <div class="book-right"></div>
        <div class="book-center">
          <div style="text-align:center;padding:12px;color:#92204b;font-weight:700;">Open Me ðŸ’–</div>
        </div>
      </div>

      <div class="tap-hint">Tap the heart-book to open our love letter ðŸ’™ðŸ“–</div>
    </div>
  </div>

  <!-- MAIN SITE CONTENT -->
  <div class="container" id="main-site" style="opacity:0;transform:translateY(30px);transition:opacity .7s,transform .7s;pointer-events:none;">
    <header>
      <div class="logo">ðŸ’šðŸ’™</div>
      <div>
        <h1>Happy 19th Birthday My Dear Pookiee Gurl ðŸ˜˜ðŸ«‚ðŸ’™</h1>
        <p class="lead">An interactive memory page made with love.</p>
      </div>
    </header>

    <!-- Love Letter -->
    <div class="card">
      <strong>Love Letter From Your LoveðŸŽ€ðŸ’— â€” For My Pookiee Gurl ðŸ’™</strong>
      <div id="type" class="typewriter"></div>
      <div class="cursor" id="cursor"></div>
      <div style="margin-top:12px" class="row">
        <button class="btn" id="replay">Replay Letter</button>
        <button class="btn btn--ghost" id="download">Download as PDF</button>
      </div>
    </div>

    <!-- Gallery -->
    <div class="card">
      <strong>Memory Gallery</strong>
      <p class="lead">Your special moments captured here ðŸ«‚ðŸ’™</p>
      <div class="gallery" id="gallery">
        <div class="thumb box1"><img src="images/image1.jpg" alt="memory 1"></div>
        <div class="thumb box2"><img src="images/image2.jpg" alt="memory 2"></div>
        <div class="thumb box3"><img src="images/image3.jpg" alt="memory 3"></div>
        <div class="thumb box4"><img src="images/image4.jpg" alt="memory 4"></div>
      </div>
    </div>

    <!-- Timeline -->
    <div class="card timeline">
      <strong>Timeline â€” milestones</strong>
      <div id="timeline"></div>
    </div>

    <!-- Secret -->
    <div class="card">
      <strong>Secret Message</strong>
      <p class="lead">Type your nickname to reveal the hidden message.</p>
      <div class="secret" style="margin-top:8px;display:flex;gap:8px;">
        <input id="secretInput" placeholder="type nickname here" style="padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;min-width:180px">
        <button class="btn" id="reveal">Reveal</button>
      </div>
      <div id="secretArea" style="margin-top:10px;color:var(--muted)"></div>
    </div>

    <!-- Music -->
    <div class="card">
      <strong>Play Music</strong>
      <p class="lead">There is a song included. Click Play Given Below.</p>
      <div style="margin-top:8px" class="row">
        <button class="btn" id="play">Play</button>
        <button class="btn btn--ghost" id="pause">Pause</button>
      </div>
      <audio id="bg" src="music/song.mp3" loop></audio>
    </div>

    <footer>Made By Your BabyðŸ˜˜ðŸ’™</footer>
  </div>

  <!-- lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true"><img id="lightboxImg" alt="large view"></div>

  <!-- floating background hearts (small decorative ones) -->
  <div id="bg-hearts"></div>

<script>
/* ---------- Configuration / Strings ---------- */
const letter = `Happy 19th Birthday My Dear Pookiee Gurl ðŸ˜˜ðŸ«‚ðŸ’™

Hey my love,

On your 19th birthday, I wanted to give you something that survives time â€” a little place to hold our moments forever.

My Dear Pookiee, there are moments in life when someone arrives so quietly, so unexpectedly, that you donâ€™t even realize at first how deeply they are changing your world. That is exactly what you did to me. You walked into my life with your gentle smile and your soft presence, and without trying, without forcing anything, you became one of the most important parts of my heart. You have a way of making everything around you feel calmer, softer, and more meaningful. Even on days when I feel lost, confused, or tired, the thought of you brings me peace in a way nothing else ever has. You donâ€™t even realize how much light you add to my life just by being yourself. I admire your innocence, your strength, your quiet confidence, and the way you carry your heart with so much tenderness. You are truly special, and I love every little detail that makes you who you are.

As you turn nineteen, I want you to know that my love for you isnâ€™t something shallow or temporaryâ€”itâ€™s something that grows deeper every day. I donâ€™t love you only when you smile or only when everything is perfect; I love you when youâ€™re tired, when youâ€™re quiet, when youâ€™re overthinking, when youâ€™re unsure, and when you donâ€™t feel like your strongest self. I love you in the ways you show strength, and also in the ways you show vulnerability. You have a heart that feels deeply, and that is one of the things I cherish most about you. I want you to know that no matter how far we are physically, no matter how busy life becomes, you are always the first warmth my mind reaches for when the world feels heavy. Being loved by you is one of the most beautiful experiences of my life, and loving you is something I will never take for granted.

You have become the person I want to talk to after the best days and the one I look for during the hardest ones. You are the person I want to protect, the person I want to understand, the person I want to grow with, and the person I want to support in every possible way. I will always believe in your dreams, your abilities, and your future, even on the days when you doubt yourself. I want to see you win. I want to see you smile without holding back. I want to see you confident in who you are, because you deserve a life filled with happiness, peace, and love that doesnâ€™t fade away. And I promise that as long as life allows me, I will be beside you through every change, every challenge, and every new beginning. I will always be your safe place, your comfort, and the person who loves you without conditions.

And as I write this, I realize that no amount of words will ever truly be enough to describe what you mean to me. Even if I filled pages and pages, even if I stayed awake all night writing about you, it still wouldnâ€™t fully capture the warmth you bring into my life. You are not just someone I love â€” you are someone who feels like destiny gently written into my story.

Sometimes I sit quietly and think about how lucky I am that our paths crossed. Out of all the people in this world, out of all the possibilities, life chose to connect me with you. That thought alone makes my heart feel full. You are the soft chapter in my life that I never want to end. You are the calm in my chaos, the smile in my silence, the comfort in my worries.

I love the way you laugh. I love the way you talk. I love the way you think. I love the way you care. I love the way you feel things deeply. I love the way your presence alone can change my entire mood. Even when youâ€™re not saying anything, even when weâ€™re just sitting quietly, it feels special â€” because itâ€™s with you.

There is something about you that feels safe. Something about you that feels pure. Something about you that feels like home. And home isnâ€™t a place â€” itâ€™s a feeling. You are that feeling for me.

On your 19th birthday, I donâ€™t just celebrate the day you were born â€” I celebrate the day the world was blessed with someone so kind, so gentle, and so beautifully genuine. I celebrate the girl who makes my heart beat differently. I celebrate the soul who makes love feel peaceful instead of scary. I celebrate you â€” every version of you.

I want to be there for your small victories and your biggest achievements. I want to clap the loudest when you succeed. I want to hold your hand when you feel nervous. I want to wipe your tears when you feel overwhelmed. I want to remind you of your strength when you forget it. I want to remind you of your beauty when you doubt it. I want to remind you of your worth every single day â€” because you deserve constant reassurance, constant love, and constant respect.

You are growing into such a beautiful woman at nineteen â€” not just beautiful in appearance, but beautiful in heart, in thoughts, in character, in dreams. The way you care about others, the way you stay strong even when things get hard, the way you try your best even when you feel unsure â€” all of it makes me admire you more than youâ€™ll ever know.

If life ever becomes heavy, I want you to remember that you are never alone. My support is not temporary. My care is not seasonal. My love is not fragile. It is steady. It is patient. It is consistent. It is yours.

I pray that this year brings you growth, confidence, peace, and opportunities that make you shine even brighter. I pray that every fear you have slowly turns into courage. I pray that every doubt you carry turns into belief. I pray that every tear youâ€™ve cried turns into strength. And through all of it, I hope I can continue being the person who stands beside you â€” not just in words, but in actions.

Nineteen is such a special age. Itâ€™s the age of becoming. The age of discovering. The age of stepping closer to your dreams. And I want to witness every step of your journey. I want to see the way you evolve, the way you grow, the way you conquer your goals. I want to be proud of you openly, loudly, endlessly.

You are not just my love. You are my favorite person. My safe space. My peace. My happiness in human form. My dear Pookiee.

And even years from now, when birthdays continue to pass and time continues to move forward, I hope we can look back at this moment and smile â€” knowing that this love was real, pure, and growing stronger every day.

Happy 19th Birthday once again, my heart.
May your smile never fade.
May your confidence rise higher.
May your dreams come true.
May your heart stay soft.
May your soul stay bright.

And may you always remember â€”
You are loved.
You are chosen.
You are cherished.
You are my dear Pookiee. ðŸ’–
You are truly my dear Pookiee â€” the girl whose name feels like home every time I think of it. You are the one I want to build memories with, the one I want to celebrate every birthday with, and the one I want to grow older with. I am grateful for you in ways I canâ€™t even fully explain. Thank you for being you â€” for being gentle, for being strong, for being honest, for being loving, and for being the beautiful soul that you are. On your 19th birthday, I hope you feel valued, loved, protected, and cherished, because that is exactly what you are to me. And I hope you never forget this: my love for you isnâ€™t something that will fade or weaken over time. It is steady, deep, loyal, and unconditional â€” the kind of love that stays even when life gets difficult, the kind of love that grows even when we are apart, the kind of love that remains no matter what.

Happy 19th Birthday, my love. My dear Pookiee.
You will always have a special place inside my heart â€” a place no one else will ever touch.

â€” Always yours ðŸ’—`;

const timelineEvents = [
  {time:'First online chat', desc:'The first time a simple message on social media turned into something meaningful.'},
  {time:'The first notification', desc:'When your name popped up and my curiosity instantly grew.'},
  {time:'The random follow back', desc:'When one click quietly started everything.'},
  {time:'The first reply', desc:'When you answered and I didnâ€™t expect it to matter so much.'},
  {time:'The midnight scroll moment', desc:'When I found you and didnâ€™t know you would mean this much.'},
  {time:'The first reaction', desc:'When you reacted to my story and started our conversation.'},
  {time:'The unexpected connection', desc:'When a simple platform turned into something personal.'},
  {time:'The first shared meme', desc:'When we laughed at the same silly thing.'},
  {time:'The endless chat day', desc:'When the conversation just refused to stop.'},
  {time:'The first time saving your contact', desc:'When your name moved from screen to heart.'},
  {time:'The curious questions phase', desc:'When we started wanting to know everything about each other.'},
  {time:'The first voice through phone', desc:'When the online world suddenly felt real.'},
  {time:'The profile picture smile', desc:'When I kept looking at your photo for no reason.'},
  {time:'The double text moment', desc:'When waiting felt impossible.'},
  {time:'The first serious talk online', desc:'When we went beyond small talk.'},
  {time:'The connection that felt different', desc:'When I realized you were not just another chat.'},
  {time:'The comfort in typing', desc:'When talking to you became the easiest part of my day.'},
  {time:'The first good morning online', desc:'When you became my first notification of the day.'},
  {time:'The night we talked till sunrise', desc:'When time completely disappeared between us.'},
  {time:'The first missed message panic', desc:'When I didnâ€™t want to miss a single word from you.'},
  {time:'The moment screens felt closer', desc:'When distance didnâ€™t feel like distance anymore.'},
  {time:'The first shared secret', desc:'When trust quietly began between us.'},
  {time:'The daily chat habit', desc:'When talking to you became my routine.'},
  {time:'The first heart reaction', desc:'When emojis started carrying real meaning.'},
  {time:'The turning point message', desc:'When our bond shifted from casual to special.'},
  {time:'The day online became personal', desc:'When I stopped seeing you as just someone on social media.'},
  {time:'The first DM', desc:'When one notification became the beginning of our connection.'},
  {time:'Our first social media hello', desc:'When a small "hi" started a beautiful journey.'},
  {time:'The connection request', desc:'When accepting one request changed everything.'},
  {time:'The first typing...', desc:'When seeing those three dots made my heart beat faster.'},
  {time:'The first late-night online talk', desc:'When strangers slowly started feeling close.'},
  {time:'The first profile visit', desc:'When curiosity quietly turned into interest.'},
  {time:'The first conversation that never ended', desc:'When we forgot we met through a screen.'},
  {time:'The moment we connected', desc:'When two accounts became two hearts talking.'},
  {time:'The digital beginning', desc:'When our story started with WiFi and feelings.'},
  {time:'The first shy reply', desc:'When one simple message made my heart race.'},
  {time:'The unexpected hello', desc:'When a normal day suddenly became special.'},
  {time:'The caring check-in', desc:'When you asked if I had eaten and meant it.'},
  {time:'The protective moment', desc:'When you stood by me without hesitation.'},
  {time:'The first long paragraph', desc:'When feelings couldnâ€™t fit into one sentence.'},
  {time:'The calming voice note', desc:'When your voice erased all my stress.'},
  {time:'The first screenshot war', desc:'When we started saving everything like memories.'},
  {time:'The overexcited typing', desc:'When three dots on the screen felt magical.'},
  {time:'The late reply panic', desc:'When I kept checking my phone for you.'},
  {time:'The random laughter', desc:'When we laughed over something totally silly.'},
  {time:'The first soft tease', desc:'When playful words started hiding real feelings.'},
  {time:'The emotional confession', desc:'When honesty made everything deeper.'},
  {time:'The supportive message', desc:'When you believed in me more than I did.'},
  {time:'The quiet understanding', desc:'When we understood each other without explaining.'},
  {time:'The comfort silence', desc:'When even no words felt meaningful.'},
  {time:'The motivational push', desc:'When you reminded me of my strength.'},
  {time:'The proud smile moment', desc:'When I felt lucky just thinking about you.'},
  {time:'The unforgettable memory', desc:'A small moment that turned into a big feeling.'},
  {time:'The heartbeat moment', desc:'When I realized you matter more than I expected.'},
  {time:'The reassurance hug', desc:'When your words felt like safety.'},
  {time:'The honest argument', desc:'When we chose understanding over ego.'},
  {time:'The growth phase', desc:'When we both started becoming better for each other.'},
  {time:'The deep connection', desc:'When it felt like souls were talking.'},
  {time:'The peaceful night', desc:'When everything felt right because of you.'},
  {time:'The soft promise', desc:'When we chose loyalty over everything else.'},
  {time:'The missing piece', desc:'When life felt incomplete without you.'},
  {time:'The comfort person realization', desc:'When you became my first thought in tough times.'},
  {time:'The silent smile', desc:'When I smiled at my phone because of you.'},
  {time:'The future talk', desc:'When we imagined days ahead together.'},
  {time:'The heart decision', desc:'When loving you stopped being a choice and became natural.'},
  {time:'First met', desc:'That day when our eyes met for the first time.'},
  {time:'First laugh', desc:'When you made me laugh like crazy without my knowings.'},
  {time:'Our favourite day', desc:'When you entered to my heart without anyones permission.'},
  {time:'First fight', desc:'When we argued but still couldnâ€™t stay angry for long.'},
  {time:'First chat till late night', desc:'That night when we didnâ€™t even realize how fast the time passed.'},
  {time:'First apology', desc:'When saying sorry made our bond even stronger.'},
  {time:'First surprise', desc:'When you made me feel the most special without expecting anything.'},
  {time:'First "I miss you"', desc:'The moment we understood how much we mean to each other.'},
  {time:'First long call', desc:'When your voice became my favorite comfort.'},
  {time:'First screenshot memory', desc:'When we started saving little chats like treasures.'},
  {time:'Our cutest moment', desc:'That time when we both laughed for no reason at all.'},
  {time:'Promise day', desc:'When we promised to stay together forever no matter what happens.'},
  {time:'The first good morning text', desc:'When waking up felt special because of you.'},
  {time:'The first good night call', desc:'When I slept peacefully after hearing your voice.'},
  {time:'First jealous moment', desc:'When we realized we actually care too much.'},
  {time:'First cute nickname', desc:'When ordinary names were no longer enough for us.'},
  {time:'First video call smile', desc:'That shy smile that made my whole day brighter.'},
  {time:'The longest conversation', desc:'When hours felt like minutes with you.'},
  {time:'First time missing you badly', desc:'When distance felt heavier than usual.'},
  {time:'First comfort hug (virtual)', desc:'When even words felt like warm arms around me.'},
  {time:'Our first inside joke', desc:'Something only we understand and laugh about.'},
  {time:'First time you got angry', desc:'But still cared for me in the same breath.'},
  {time:'First reassurance', desc:'When you said "Iâ€™m not going anywhere".'},
  {time:'First overthinking night', desc:'But we solved everything together.'},
  {time:'First dream about you', desc:'When even my sleep chose you.'},
  {time:'The first heart emoji', desc:'When emojis started carrying real feelings.'},
  {time:'First deep talk', desc:'When we shared our fears and hopes openly.'},
  {time:'First time saying "I care"', desc:'When feelings slowly turned into something deeper.'},
  {time:'First time feeling safe', desc:'When your presence became my comfort zone.'},
  {time:'First celebration together', desc:'When we made even small days special.'},
  {time:'The moment I realized', desc:'That you are not just someone, you are my someone.'},
  {time:'The first promise', desc:'To stay honest, loyal, and understanding.'},
  {time:'The silent moment', desc:'When even silence between us felt beautiful.'},
  {time:'First proud moment', desc:'When I felt lucky to have you in my life.'},
  {time:'The turning point', desc:'When friendship slowly became something more meaningful.'},
  {time:'The softest memory', desc:'When your kindness touched my heart deeply.'},
  {time:'The unforgettable smile', desc:'The one that still plays in my mind.'},
  {time:'Our comfort phase', desc:'When everything felt natural and peaceful between us.'},
  {time:'First protective feeling', desc:'When I wanted to keep you safe from everything.'},
  {time:'The understanding phase', desc:'When words were not even needed anymore.'},
  {time:'The grateful moment', desc:'When I thanked life for bringing you to me.'},
  {time:'Forever mindset', desc:'When I started imagining a future with you.'},
  {time:'Today', desc:'Still choosing only you, every single day.'}
];

const secretNickname = 'sothummaa';
const secretMessage = 'I love you endlessly, my Pookiee Gurl. Happy 19th Birthday Dear! ðŸ˜šðŸ«‚ðŸ’—';

/* ---------- Opening animation (teddy + heart-book) ---------- */
const openingScreen = document.getElementById('opening-screen');
const heartBook = document.getElementById('heart-book');
const mainSite = document.getElementById('main-site');

function openBookReveal() {
  // animate book halves open
  openingScreen.classList.add('opening-open');
  // quick small pop on teddy
  const teddy = document.getElementById('teddy-svg');
  teddy.style.transformOrigin = 'center';
  teddy.style.transition = 'transform .6s';
  teddy.style.transform = 'scale(0.98)';
  // after a short delay fade out opening screen and show main content
  setTimeout(() => {
    openingScreen.style.transition = 'opacity .6s, transform .6s';
    openingScreen.style.opacity = '0';
    openingScreen.style.pointerEvents = 'none';
    // show main content
    setTimeout(() => {
      openingScreen.style.display = 'none';
      mainSite.style.opacity = '1';
      mainSite.style.transform = 'translateY(0)';
      mainSite.style.pointerEvents = 'auto';
      // play a tiny reveal sparkle (confetti)
      launchConfetti(120);
    }, 700);
  }, 900);
}

// trigger on click or keypress (Enter/Space)
heartBook.addEventListener('click', openBookReveal);
heartBook.addEventListener('keydown', (e)=> { if(e.key==='Enter' || e.key===' ') openBookReveal(); });

/* ---------- Typing effect for letter ---------- */
const typeEl = document.getElementById('type');
const cursor = document.getElementById('cursor');

function typeText(text, el, speed = 18) {
  el.textContent = '';
  let i = 0;
  cursor.style.display = 'inline-block';
  return new Promise(resolve => {
    function step() {
      if (i < text.length) {
        const ch = text[i++];
        if (ch === '\n') el.appendChild(document.createElement('br'));
        else el.appendChild(document.createTextNode(ch));
        setTimeout(step, speed);
      } else {
        cursor.style.display = 'none';
        resolve();
      }
    }
    step();
  });
}
window.addEventListener('load', () => {
  // don't auto-show the letter until after opening; if opening-screen already hidden (e.g., developer preview),
  // show letter immediately
  if (openingScreen.style.display === 'none' || openingScreen.style.opacity === '0') {
    typeText(letter, typeEl);
  } else {
    // wait a moment after reveal
    const observer = new MutationObserver(() => {
      if (openingScreen.style.display === 'none') {
        typeText(letter, typeEl);
        observer.disconnect();
      }
    });
    observer.observe(openingScreen, { attributes: true, attributeFilter:['style'] });
  }
});
document.getElementById('replay').addEventListener('click', () => typeText(letter, typeEl));

/* ---------- Gallery click: lightbox + heart-particle burst ---------- */
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightboxImg');

function showLightbox(src, clientX=window.innerWidth/2, clientY=window.innerHeight/2) {
  lightboxImg.src = src;
  lightbox.classList.add('show');
  lightbox.setAttribute('aria-hidden','false');
  // also create heart burst at click point
  heartBurst(clientX, clientY);
}
function hideLightbox() {
  lightbox.classList.remove('show');
  lightbox.setAttribute('aria-hidden','true');
  lightboxImg.src = '';
}
lightbox.addEventListener('click', hideLightbox);

document.querySelectorAll('.gallery img').forEach(img => {
  img.addEventListener('click', (e) => {
    const r = img.getBoundingClientRect();
    const cx = e.clientX || (r.left + r.width/2);
    const cy = e.clientY || (r.top + r.height/2);
    showLightbox(img.src, cx, cy);
  });
});

/* heart particle burst */
function heartBurst(x, y) {
  const count = 30;
  for (let i=0;i<count;i++){
    createParticle(x + (Math.random()*40-20), y + (Math.random()*40-20));
  }
}
function createParticle(x, y) {
  const el = document.createElement('div');
  el.className = 'particle';
  el.innerText = ['ðŸ’—','ðŸ’“','ðŸ’•','ðŸ’˜','ðŸ’'][Math.floor(Math.random()*5)];
  el.style.left = (x) + 'px';
  el.style.top = (y) + 'px';
  document.body.appendChild(el);

  // random animation path
  const dx = (Math.random()*160 - 80);
  const dy = - (60 + Math.random()*140);
  const rot = (Math.random()*720 - 360);
  el.animate([
    { transform: `translate(0,0) rotate(0deg) scale(1)`, opacity: 1 },
    { transform: `translate(${dx}px, ${dy}px) rotate(${rot}deg) scale(.4)`, opacity: 0 }
  ], {
    duration: 900 + Math.random()*500,
    easing: 'cubic-bezier(.2,.8,.2,1)'
  });

  setTimeout(()=> el.remove(), 1600);
}

/* ---------- Floating background hearts generator ---------- */
setInterval(()=>{
  const h = document.createElement('div');
  h.className = 'bg-heart';
  h.innerText = 'ðŸ’—';
  h.style.left = Math.random()*100 + 'vw';
  h.style.fontSize = (14 + Math.random()*18) + 'px';
  document.body.appendChild(h);
  setTimeout(()=> h.remove(), 6000);
}, 1000);

/* ---------- Timeline populate ---------- */
const timeline = document.getElementById('timeline');
timelineEvents.forEach(ev => {
  const row = document.createElement('div');
  row.className = 'event';
  row.innerHTML = `<div class="dot"></div><div><div class="evtime">${ev.time}</div><div>${ev.desc}</div></div>`;
  timeline.appendChild(row);
});

/* ---------- Secret reveal & confetti ---------- */
document.getElementById('reveal').addEventListener('click', () => {
  const val = document.getElementById('secretInput').value.trim().toLowerCase();
  const area = document.getElementById('secretArea');
  if (val === secretNickname.toLowerCase()) {
    area.style.color = 'white';
    area.textContent = secretMessage;
    launchConfetti(140);
  } else {
    area.style.color = 'var(--muted)';
    area.textContent = 'Nope â€” try again';
  }
});

/* ---------- Audio controls ---------- */
const audio = document.getElementById('bg');
document.getElementById('play').addEventListener('click', ()=> audio.play());
document.getElementById('pause').addEventListener('click', ()=> audio.pause());

/* ---------- Download / Print ---------- */
document.getElementById('download').addEventListener('click', ()=>{
  const w = window.open('','_blank');
  w.document.write(`<pre style="font-family:Inter,system-ui;white-space:pre-wrap;">${letter}</pre>`);
  w.document.close();
  w.print();
});

/* ---------- Lightbox close on Esc ---------- */
window.addEventListener('keydown', (e)=>{
  if(e.key === 'Escape') {
    hideLightbox();
  }
});

/* ---------- Confetti implementation (simple) ---------- */
function launchConfetti(amount=80) {
  const c = document.getElementById('confetti');
  c.width = innerWidth;
  c.height = innerHeight;
  const ctx = c.getContext('2d');
  const pieces = [];
  for (let i=0;i<amount;i++){
    pieces.push({
      x: Math.random()*c.width,
      y: Math.random()*-c.height,
      vy: 2 + Math.random()*6,
      angle: Math.random()*360,
      size: 6 + Math.random()*8,
      color: `hsl(${Math.random()*360},90%,60%)`
    });
  }
  let anim = true;
  (function loop(){
    if(!anim) return;
    ctx.clearRect(0,0,c.width,c.height);
    pieces.forEach(p=>{
      p.y += p.vy;
      p.x += Math.sin(p.y/10);
      ctx.save();
      ctx.translate(p.x,p.y);
      ctx.rotate(p.angle*Math.PI/180);
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size);
      ctx.restore();
      if(p.y > c.height + 50) p.y = -20;
    });
    requestAnimationFrame(loop);
  })();
  setTimeout(()=> anim = false, 6000);
}

/* ---------- On initial load: if user navigates directly to main (opening hidden), start letter typing ---------- */
if (openingScreen.style.display === 'none' || getComputedStyle(openingScreen).opacity === '0') {
  typeText(letter, typeEl);
} else {
  // If user clicks book, typing will start after opening logic triggers observer above.
}

/* ---------- Accessibility: allow Enter key on teddy/book area to open ---------- */
document.querySelectorAll('.teddy-wrap').forEach(el=>{
  el.addEventListener('keydown', (e)=> {
    if(e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      openBookReveal();
    }
  });
});

/* ---------- Safety: handle missing images gracefully ---------- */
document.querySelectorAll('.gallery img').forEach(img=>{
  img.addEventListener('error', ()=> {
    img.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300"><rect width="100%" height="100%" fill="%23081420"/><text x="50%" y="50%" fill="%239aa0b1" font-size="20" text-anchor="middle" dominant-baseline="middle">Replace image</text></svg>';
  });
});
</script>
</body>
</html>
